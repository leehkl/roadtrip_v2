<!--
 regex for valid decimals and angular.js form validation inspired by:
  gsferreira.com/archive/2015/02/angularjs-input-number-with-two-decimal-places/
-->
<ion-view view-title="Edit Trip">
  <ion-content class="padding">
  <h3 class="balanced">TRIPS</h3>
  <form ng-submit="editTrip()" name="tripEdits">
      <div class="list">
        <label class="item item-input">
          <span class="input-label">Name</span>
          <input type="text" name="name" ng-model="trip.name" required/>
        </label>
        <label class="item item-input">
          <span class="input-label">Source</span>
          <input type="text" ng-model="trip.source"/>
        </label>
        <label class="item item-input">
          <span class="input-label">Destination</span>
          <input type="text" ng-model="trip.destination"/>
        </label>
          <label class="item item-input">
          <span class="input-label">Miles</span>
          <input type="number" name="miles" min="0" ng-model="trip.miles" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" step="0.01"/>
        </label>
        <label class="item item-input">
          <span class="input-label">Time</span>
          <input type="number" name="time" min="0" ng-model="trip.time" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" step="0.01"/>
        </label>
        <label class="item item-input">
          <span class="input-label">Mode</span>
          <input type="text" ng-model="trip.mode"/>
        </label>
      </div>
      <div class="padding">
        <p class="assertive" ng-show="tripEdits.name.$error.required">
        *Give your trip a name!
        </p>
        <p class="assertive" ng-show="!tripEdits.miles.$valid">
        *Miles needs to be a valid decimal!
        </p>
        <p class="assertive" ng-show="!tripEdits.time.$valid">
        *Time needs to be a valid decimal!
        </p>
      <input type="submit" class="button button-outline button-balanced" value="Submit"/>
    </div>
    </form>
    <div>
      <p class="balanced" >{{result}}</p>
    </div>
    <a class="button icon-right ion-chevron-right button-block button-energized" href="#tab/days" align="left">DAYS</a>
  </ion-content>
</ion-view>
